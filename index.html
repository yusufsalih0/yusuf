<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Besa'nƒ±n Doƒüum G√ºn√º Kutlamasƒ±</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');
    * { box-sizing: border-box; }
    body {
      margin:0; padding:0;
      background:#000; color:#e6a8c4;
      font-family:'Pacifico',cursive,Arial,sans-serif;
      text-align:center; overflow-x:hidden;
    }
    button {
      background:#d95ca0; border:none; border-radius:12px;
      color:#000; font-size:1.2rem; padding:.6rem 1.5rem;
      margin:.8rem; cursor:pointer; transition:.3s; box-shadow:0 0 8px #d95ca0;
    }
    button:hover { background:#e6a8c4; }
    .hidden { display:none; }
    .heart {
      position:fixed; bottom:-25px; font-size:1.7rem; color:#d95ca0;
      animation:floatUp linear infinite; user-select:none;
    }
    @keyframes floatUp { to { transform:translateY(-270px) scale(.5); opacity:0 } }

    /* 1. sayfa */
    #page1 {
      min-height:100vh;
      display:flex;flex-direction:column;
      justify-content:center;align-items:center;
      padding:1rem;
    }
    #page1 h1 {
      font-size:3.5rem; color:#f06292; text-shadow:0 0 12px #f06292;
    }
    #page1 p { margin:.4rem 0; font-size:1.4rem; }
    .small-poem {
      font-size:1.2rem; font-style:italic; color:#f8bbd0;
      max-width:360px; line-height:1.3;
    }

    /* 2. sayfa */
    #page2 { padding:1rem; max-width:720px; margin:0 auto; }
    #category-buttons {
      display:flex; flex-wrap:wrap;justify-content:center;gap:12px;
    }

    #mini-game {
      background:#261c2c; padding:1rem; border-radius:12px;
      box-shadow:0 0 12px #d95ca0; margin-top:1rem; color:#e6a8c4;
    }
    #mini-game h3 { margin:0; font-size:1.5rem; }
    .choice-container {
      display:flex; flex-wrap:wrap;justify-content:space-around;
      gap:1rem; margin-top:1rem;
    }
    .choice-box {
      background:#e6a8c4;color:#000;
      padding:.8rem;border-radius:8px;flex:1 1 40%;
      min-width:140px;cursor:pointer;font-weight:bold;
      box-shadow:0 0 6px #e6a8c4;transition:.3s;
    }
    .choice-box:hover { background:#d95ca0;color:#fff; }
    #round-info,#winner-message {
      margin-top:.8rem;font-size:1.1rem;
    }
    #restart-btn { margin-top:1rem; }

    /* YouTube */
    #yt-player {
      position:fixed; bottom:12px; right:12px;
      width:300px;height:169px;border-radius:8px;
      overflow:hidden;box-shadow:0 0 12px #d95ca0;
      background:#000;z-index:1000;
    }
    #yt-player iframe { width:100%;height:100%;border:0; }

    /* Anƒ± Defteri */
    #toggle-memory-btn { margin-top:1.5rem; }
    #memory-section {
      background:#261c2c;padding:1rem;border-radius:12px;
      box-shadow:0 0 12px #d95ca0;margin-top:1rem;
      color:#e6a8c4;
    }
    #memory-section textarea {
      width:100%;resize:vertical;min-height:80px;
      border-radius:8px;border:none;padding:.6rem;
      font-family:Arial,sans-serif;
    }
    #memories-list {
      margin-top:.8rem;max-height:180px;
      overflow-y:auto;text-align:left;
    }
    .memory-item {
      background:#e6a8c4;color:#000;padding:.5rem .8rem;
      margin-bottom:.6rem;border-radius:8px;position:relative;
      box-shadow:0 0 8px #e6a8c4;font-family:Arial,sans-serif;
    }
    .memory-item img {
      max-width:100%;border-radius:6px;margin-top:.4rem;
    }
    .memory-delete-btn {
      position:absolute;top:6px;right:8px;
      background:#d95c7b;color:#fff;border:none;
      border-radius:50%;width:22px;height:22px;
      line-height:18px;cursor:pointer;font-weight:bold;
      opacity:.8;transition:.2s;
    }
    .memory-delete-btn:hover { opacity:1; }
  </style>
</head>
<body>

  <!-- Kalpler -->
  <script>
    for(let i=0;i<15;i++){
      const h=document.createElement('div');
      h.className='heart'; h.textContent='‚ù§Ô∏è';
      h.style.left=(i*7+3)+'%';
      h.style.animationDuration=(4+Math.random()*3)+'s';
      document.body.appendChild(h);
    }
  </script>

  <!-- 1. SAYFA -->
  <main id="page1">
    <h1>Doƒüum G√ºn√ºn Kutlu Olsun ü•≥</h1>
    <p>ƒ∞yi ki doƒüdun Besa.</p>
    <p class="small-poem">
      ‚ÄúBir g√ºl√º≈ü√ºn var, hayatƒ±ma bahar olur,<br>
      Her anƒ±n seninle anlam bulur, dostum olur.‚Äù
    </p>
    <button id="btn-to-page2">Devam Et</button>
  </main>

  <!-- 2. SAYFA -->
  <main id="page2" class="hidden">
    <h2>M√ºzik Turnuvasƒ± üé∂</h2>
    <div id="category-buttons">
      <button class="category-btn" data-cat="besa">üíñ Besa'nƒ±n Favorileri</button>
      <button class="category-btn" data-cat="klasik">üéº Klasikler</button>
      <button class="category-btn" data-cat="yufus">üéß Yufus‚Äôun Sevdikleri</button>
    </div>

    <div id="mini-game" class="hidden">
      <h3 id="game-title"></h3>
      <div id="round-info"></div>
      <div class="choice-container">
        <div id="choice1" class="choice-box"></div>
        <div id="choice2" class="choice-box"></div>
      </div>
      <div id="winner-message"></div>
      <button id="restart-btn" class="hidden">Yeniden Ba≈üla</button>
    </div>

    <div id="yt-player" class="hidden">
      <iframe id="yt-iframe" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>

    <button id="toggle-memory-btn">üìù Anƒ± Defteri A√ß/Kapa</button>
    <section id="memory-section" class="hidden">
      <h3>üìù Anƒ± Defteri</h3>
      <textarea id="memory-text" placeholder="Anƒ±nƒ± yaz..."></textarea>
      <input type="file" id="memory-photo" accept="image/*" />
      <button id="save-memory-btn">Kaydet</button>
      <div id="memories-list"></div>
    </section>

    <button id="btn-to-page1">Geri D√∂n</button>
  </main>

  <script>
    // Sayfa kontrolleri
    const p1=document.getElementById('page1'),
          p2=document.getElementById('page2');
    document.getElementById('btn-to-page2')
      .onclick=()=>{p1.classList.add('hidden');p2.classList.remove('hidden');};
    document.getElementById('btn-to-page1')
      .onclick=()=>{p2.classList.add('hidden');p1.classList.remove('hidden');resetGame();};

    // ≈ûarkƒ± dizileri (isim + YouTube ID)
    const besaSongs=[
      {name:"Madrigal - Seni Dert Etmeler",id:"6JSHjke3HHM"},
      {name:"Madrigal - Ellerimde √ái√ßekler",id:"HqOTQ7K0I6I"},
      {name:"Madrigal - Kelebekler",id:"sp52KkMyzvQ"},
      {name:"Son Feci Bisiklet - 80",id:"e8Le_a94U48"},
      {name:"Son Feci Bisiklet - Zaman Yok",id:"U5qaMZzjG_U"},
      {name:"Son Feci Bisiklet - 6 Patlar",id:"76g9yG5aUN8"},
      {name:"Adamlar - Sarƒ±lƒ±rƒ±m Birine",id:"gsokqN8nq-M"},
      {name:"Adamlar - R√ºyalarda Buru≈ümu≈üum",id:"C0CE54Cqt84"},
      {name:"Adamlar - Acƒ±nƒ±n ƒ∞lacƒ±",id:"V6F3UIaiF6I"},
      {name:"Pamela - ƒ∞stanbul",id:"TGmY5TVbQ-w"},
      {name:"Sufle - Pus",id:"Zg7rXTV5T6I"},
      {name:"Kahraman Deniz - Son Duraƒüƒ±n",id:"GmyUOJbdgM4"},
      {name:"Kahraman Deniz - B√∂yle Sever",id:"hXjY79Sl7zg"},
      {name:"Kalben - Yara",id:"yXPoTbwoJhA"},
      {name:"Sertab Erener - Bi Polar",id:"y9Zpq4-V_eM"},
      {name:"Sertab Erener - Olsun",id:"lS_WO3A2g6Y"},
      {name:"Sezen Aksu - Biliyorsun",id:"eRPEKd7LlXk"},
      {name:"Dedubl√ºman - Sana G√ºvenmiyorum",id:"5k1tCczAqI4"},
      {name:"Ufuk Beydemir - Ay Tenli Kadƒ±n",id:"f6Zn0-_D5qM"},
      {name:"Mabel Matiz - Fƒ±rtƒ±nadayƒ±m",id:"nWzTLvF1a6s"},
      {name:"Y√ºksek Sadakat - Fener",id:"CYjDO_lWtbk"},
      {name:"Duman - Ah",id:"Qv4ThPgpGvw"},
      {name:"Duman - Senden Daha G√ºzel",id:"qljYb_IbZkM"},
      {name:"Duman - Aman Aman",id:"c_c7sYTWdrc"},
      {name:"Duman - Seni Kendime Sakladƒ±m",id:"GZtlKY7gK08"},
      {name:"Teoman - √áoban Yƒ±ldƒ±zƒ±",id:"nAefHoLQ5x8"},
      {name:"Teoman - Kupa Kƒ±zƒ± ve Sinek Valesi",id:"7yF9tiF0iSY"},
      {name:"≈ûebnem Ferah - Mayƒ±n Tarlasƒ±",id:"H1vReKImkKk"},
      {name:"≈ûebnem Ferah - Yalnƒ±z",id:"rsfJCNHxqlk"},
      {name:"Model - Mey",id:"fQjF4cF1Qh8"},
      {name:"Y√ºzy√ºzeyken Konu≈üuruz - Sandal",id:"h6NLiqxH5Qw"},
      {name:"Sen Varsƒ±n Diye",id:"YsAeYHo2k3w"},
      {name:"Y√ºzy√ºzeyken Konu≈üuruz - Dinle Beni Bi",id:"HggS1vSuqXw"}
    ];
    const klasikSongs=[
      {name:"Eyedress - Romantic Lover",id:"kjMMOf5mriA"},
      {name:"Mild High Club - Homage",id:"YXtCP9vU7Ys"},
      {name:"Steve Lacy - Dark Red",id:"xhn_VL7yZTo"},
      {name:"Arctic Monkeys - I Wanna Be Yours",id:"7jZdVusS4LU"},
      {name:"Cigarettes After Sex - Apocalypse",id:"uW_m2HVz8fw"},
      {name:"Cigarettes After Sex - K.",id:"t7lWnk1XkU0"},
      {name:"Beach House - Sex Drugs Etc.",id:"U1J93eplR5o"},
      {name:"Little Wolves - Lost My Mind",id:"wqlh8jQhFi0"},
      {name:"Mac DeMarco - Chamber of Reflection",id:"r1N3kLeD9X4"},
      {name:"Girl in Red - We Fell in Love in October",id:"p57qb3Kw6Po"},
      {name:"Anathema - Flying",id:"L53NjHAYqhk"},
      {name:"Cigarettes After Sex - Heavenly",id:"6BpMMTeJeR4"},
      {name:"Guns N' Roses - This I Love",id:"_tXN8Jez_nI"},
      {name:"Arctic Monkeys - 505",id:"u6hVJyjELu4"},
      {name:"Yunus Emre - ƒ∞mkansƒ±z Bir A≈ük Denir",id:"0H0hnjFpk5Y"},
      {name:"Avenged Sevenfold - I Won't See You Tonight",id:"mPFGTPUpfHM"}
    ];
    const yufusSongs=[
      {name:"Ezhel - ƒ∞mkansƒ±zƒ±m",id:"ZUwTIB85uG0"},
      {name:"Ezhel - Geceler",id:"WjF13Rd2SYg"},
      {name:"Kayra - Hikaye Bitti √áoktan",id:"aF9tN1F7qT8"},
      {name:"Kayra - M√ºneccim",id:"g0u1CDUrTtE"},
      {name:"Kayra - Kent Orman M√ºdavimleri",id:"tSPeEKNzQXg"},
      {name:"Kayra - Hayƒ±rsƒ±z Evlat",id:"nGU7S9eKHqw"},
      {name:"Kayra - Merhumun √áalƒ±ntƒ± G√∂lgesi",id:"x-YO6PN1tOc"},
      {name:"Hidra - Gibi",id:"PCmUq0xNDAI"},
      {name:"Hidra - Karƒ±ncalar",id:"sx9wqFhx3ps"},
      {name:"Kayra - Bir G√ºnl√ºk √ñld√ºr√ºn Beni",id:"4ODuUnjVq3o"},
      {name:"Anƒ±l Piyancƒ± - Bug√ºn Biraz ƒ∞√ßtim",id:"XhL6SfhAYu0"},
      {name:"Aspova - Eskimi≈ü Senelere",id:"QSqe8LgV2k8"},
      {name:"Allame - Hayalin Yeri Yok",id:"wlxvWi1ryqk"},
      {name:"Yener √áevik - √áocuk",id:"V2b6G8lXCuQ"},
      {name:"No 1 - B√∂yle ƒ∞yi",id:"SoknLMejfYk"},
      {name:"No 1 - Olmasa da Olur",id:"-FZHhY5pfjw"}
    ];

    const lists={besa:besaSongs,klasik:klasikSongs,yufus:yufusSongs};

    let gameSongs=[],round=1,total=0;
    const choice1=document.getElementById('choice1'),
          choice2=document.getElementById('choice2'),
          roundInfo=document.getElementById('round-info'),
          winnerMsg=document.getElementById('winner-message'),
          restartBtn=document.getElementById('restart-btn'),
          miniDiv=document.getElementById('mini-game'),
          titleEl=document.getElementById('game-title'),
          ytDiv=document.getElementById('yt-player'),
          ytFrame=document.getElementById('yt-iframe');

    function shuffle(a){
      for(let i=a.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    document.querySelectorAll('.category-btn').forEach(b=>{
      b.onclick=()=>{
        const cat=b.dataset.cat;
        gameSongs=shuffle([...lists[cat]]);
        round=1; total=gameSongs.length-1;
        titleEl.textContent=b.textContent;
        roundInfo.textContent=`Tur ${round}/${total}`;
        winnerMsg.textContent='';
        restartBtn.classList.add('hidden');
        miniDiv.classList.remove('hidden');
        ytDiv.classList.remove('hidden');
        showNext();
        playVid(gameSongs[0].id);
      };
    });

    function showNext(){
      if(gameSongs.length===1){
        choice1.style.display=choice2.style.display='none';
        winnerMsg.textContent=`Favorin: ${gameSongs[0].name} üéâ`;
        restartBtn.classList.remove('hidden');
        return;
      }
      choice1.style.display=choice2.style.display='block';
      choice1.textContent=gameSongs[0].name;
      choice2.textContent=gameSongs[1].name;
    }
    function choose(i){
      const next=[gameSongs[i]];
      for(let k=2;k<gameSongs.length;k++) next.push(gameSongs[k]);
      gameSongs=next; round++;
      roundInfo.textContent=`Tur ${round}/${total}`;
      showNext();
      playVid(gameSongs[0].id);
    }
    choice1.onclick=()=>choose(0);
    choice2.onclick=()=>choose(1);
    restartBtn.onclick=()=>resetGame();

    function resetGame(){
      miniDiv.classList.add('hidden');
      ytDiv.classList.add('hidden');
      gameSongs=[];round=1;total=0;winnerMsg.textContent='';
      choice1.style.display=choice2.style.display='block';
      ytFrame.src=''; // videoyu kapat
    }

    function playVid(id){
      ytFrame.src=`https://www.youtube.com/embed/${id}?autoplay=1&rel=0`;
    }

    // Anƒ± Defteri
    const memBtn=document.getElementById('toggle-memory-btn'),
          memSec=document.getElementById('memory-section'),
          saveBtn=document.getElementById('save-memory-btn'),
          memList=document.getElementById('memories-list'),
          memText=document.getElementById('memory-text'),
          memPhoto=document.getElementById('memory-photo');
    memBtn.onclick=()=>memSec.classList.toggle('hidden');
    let memories=JSON.parse(localStorage.getItem('memories')||'[]');
    function renderMem(){
      memList.innerHTML='';
      memories.forEach((m,i)=>{
        const d=document.createElement('div');
        d.className='memory-item';
        d.innerHTML=`<button class="memory-delete-btn" data-i="${i}">√ó</button>
                     <p>${m.text.replace(/\n/g,'<br>')}</p>
                     ${m.photo?`<img src="${m.photo}">`:''}`;
        memList.appendChild(d);
      });
      document.querySelectorAll('.memory-delete-btn').forEach(b=>{
        b.onclick=()=>{memories.splice(b.dataset.i,1);localStorage.setItem('memories',JSON.stringify(memories));renderMem()};
      });
    }
    renderMem();
    saveBtn.onclick=()=>{
      const t=memText.value.trim(); if(!t){alert('Yazƒ± gir');return;}
      if(memPhoto.files[0]){
        const r=new FileReader();
        r.onload=e=>{
          memories.push({text:t,photo:e.target.result});
          localStorage.setItem('memories',JSON.stringify(memories));
          renderMem();memText.value='';
        };
        r.readAsDataURL(memPhoto.files[0]);
      } else {
        memories.push({text:t,photo:null});
        localStorage.setItem('memories',JSON.stringify(memories));
        renderMem();memText.value='';
      }
    };
  </script>
</body>
</html>
